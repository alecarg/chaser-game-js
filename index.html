<!DOCTYPE html>
<html>
<head>
  <title>&lt;Dev Battle&gt; by Salmon</title>
  <link rel="stylesheet" type="text/css" href="css/styles.css">
  <link rel="stylesheet" type="text/css" href="lib/bootstrap/css/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="lib/bootstrap-slider/bootstrap-slider.min.css">
  <link rel="stylesheet" type="text/css" href="lib/codemirror/codemirror.css">
  <link rel="stylesheet" type="text/css" href="lib/codemirror/codemirror__fullscreen.css">
  <link href="https://fonts.googleapis.com/css?family=VT323" rel="stylesheet">
</head>
<body style="display: none;">

<div class="menu">
  <div class="top">
    <img class="logo" src="assets/salmon-logo.png" />
  </div>
  <div class="bottom">

    <div class="content">
      <h1>&lt;DEV BATTLE&gt;</h1>

      <div class="slide slide-1">
        <h2>
          <span href="" class="typewrite" data-period="2000" data-type='[ "Hello and welcome!", "Can you escape?", "They said you can run fast.", "&hearts; to Develop." ]'>
            <span class="wrap"></span>
          </span>
        </h2>
        <button type="button" class="next btn btn-primary">start</button>
      </div>

      <div class="slide slide-2">
        <h2>
          Your objective is to escape and <br />
          avoid being eaten by the chaser. <br />
          Other players will be trying to escape too... <br />
          Last person standing wins :)
        </h2>
        <button type="button" class="prev btn btn-primary">prev</button>
        <button type="button" class="next btn btn-primary">next</button>
      </div>

      <div class="slide slide-3">
        <h2>
          You will now spend 10 minutes writing the code that<br />
          will control your character throughout the whole game.</br />
          Each turn, the same code you have written will execute 
          over and over, making your character move across the map.
        </h2>
        <button type="button" class="prev btn btn-primary">prev</button>
        <button type="button" class="next btn btn-primary">next</button>
      </div>

      <div class="slide slide-4">
        <h2>
          When you're done, your code will be saved and stored.<br />
          At the end of the night, everyone who has participated<br />
          will spawn in this same map, and their code will drive<br />
          their own character's movement to attempt to escape.<br />
        </h2>
        <button type="button" class="prev btn btn-primary">prev</button>
        <button type="button" class="next btn btn-primary">next</button>
      </div>

      <div class="slide slide-5">
        <h2>
          The chaser becomes faster as the game progresses,<br />
          so everyone will get caught eventually, meaning there is no <br />
          perfect strategy. Instead, try to stay alive for as long<br />
          as possible to maximise your chances of winning.
        </h2>
        <button type="button" class="prev btn btn-primary">prev</button>
        <button type="button" class="next btn btn-primary">next</button>
      </div>

      <div class="slide slide-6">
        <h2>
          Remember there is no safe area or place you're heading.<br />
          In fact, you don't know where the chaser spawns exactly,<br />
          so it's better to be reactive to his position rather than<br />
          trying to aim for a specific area of the map.
        </h2>
        <button type="button" class="prev btn btn-primary">prev</button>
        <button type="button" class="next btn btn-primary">next</button>
      </div>

      <div class="slide slide-7">
        <h2>
          For the moment, it's only you and the chaser on the map.<br />
          The game will loop constantly, which should help you see<br />
          how your code is performing. On the real game, other players<br />
          will be there too. Remember you're only creating the <br />
          instructions for your player at this stage, and not<br/>
          actually playing the final game itself.
        </h2>
        <button type="button" class="prev btn btn-primary">prev</button>
        <button type="button" class="next btn btn-primary">next</button>
      </div>

      <div class="slide slide-8">
        <h2>
          Use the documentation to understand how to<br />
          query the environment and characters around you. <br />
          For example, you will be able to know where the chaser is <br />
          in relation to your position so you can run the opposite way!
        </h2>
        <button type="button" class="prev btn btn-primary">prev</button>
        <button type="button" class="next btn btn-primary">next</button>
      </div>

      <div class="slide slide-9">
        <h2>
          Attempting to move onto someone else's square our outside<br />
          the map boundaries will lose you the turn, meaning you'll<br />
          lag on the escape. If your character steps into water,<br />
          it will drown and die, so check where you're going!
        </h2>
        <button type="button" class="prev btn btn-primary">prev</button>
        <button type="button" class="next btn btn-primary">next</button>
      </div>

      <div class="slide slide-10">
        <h2>
          Remember you can use all the ES6 features that are supported<br />
          in the latest version of Chrome. Your code will not be<br />
          transpiled or compiled in any way, and will be executed as is.
        </h2>
        <button type="button" class="prev btn btn-primary">prev</button>
        <button type="button" class="next btn btn-primary">next</button>
      </div>

      <div class="slide slide-11">
        <h2>
          Google is accessible as a tab at the top to check<br />
          for javascript syntax, methods, or anything you'd like.<br />
          When you are ready, enter your name below and click start.<br />
          <input type="text" name="playerName" placeholder="Name and surname" onclick="javascript:this.value='';" /><br />
          Good luck!
        </h2>
        <button type="button" class="prev btn btn-primary">prev</button>
        <button type="button" class="start btn btn-primary">start</button>
      </div>

    </div>

  </div>
</div>

<div class="backdrop"></div>

<div class="background"></div>

<canvas id="main"></canvas>

<span class="timer"></span>

<img class="compass" src="assets/compass.png" />

<div class="left-panel">
  <button class="restart btn btn-primary">Restart</button>
  <label class="pause btn btn-primary">
    <input type="checkbox" />
    Pause
  </label>
  <span class="turn-ui">Turn: <b>0</b></span>
  <input data-slider-id="slider-turn-speed" type="text" data-slider-value="750"/>
  <div class="log">
    <p>This is your console. You will only receive game messages here that will inform you about what's happening.</p>
  </div>
</div>

<div class="right-panel">
  <label class="simulate-multiple btn btn-primary" data-toggle="tooltip" data-placement="top" title="Your clones will all use the same player code you write!">
    <input type="checkbox" />
    Simulate multiple players
  </label>
  <button class="documentation btn btn-primary" data-toggle="modal" data-target="#documentationModal">Documentation</button>
  <button class="fullscreen btn btn-primary" onclick="ui.codeFullscreen()">Fullscreen</button>
  <div class="code"></div>
</div>

<!-- Documentation modal -->
<div class="modal fade" id="documentationModal" tabindex="-1" role="dialog" aria-labelledby="documentationModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="documentationModalLabel">Documentation</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h4>The fundamentals</h4>
        <p>
          <span class="code-example">me.move('south')</span><br />
          <span class="outputs">// → *your player moves south*</span><br />
          <span class="explanation">Move in any of the following directions: 'north', 'south', 'east' or 'west'. The movement will happen when you take your turn. You can only move once per turn, so the first time this method executes in your code will be the one that counts.</span>
        </p>
        <p>
          <span class="code-example">me.whatIsInDirection('east')</span><br />
          <span class="outputs">// → one of either 'land', 'water', 'boundary' or 'character' (character can either be a player or the chaser)</span><br />
          <span class="explanation">Find what is around you. This will help you move to tiles safely and avoid drowning in water, or losing turns when trying to move onto an occupied tile our outside the map boundaries.</span>
        </p>
         <p>
          <span class="code-example">me.whereIsChaser()</span><br />
          <span class="outputs">// → one of either 'north', 'south', 'east', 'west', 'north-east', 'north-west', 'south-east', 'south-west'</span><br />
          <span class="explanation">Find out where chaser is relative to you. This will give you the direction in which chaser is the closest to you. Tip: if chaser is north, run south!</span>
        </p>
        <h4>The map</h4>
        <img src="assets/map.png" />
        <img src="assets/compass.png" />
        <p> The map is 40x40.<br />
            At the top corner, you have x: 0 and y: 0, whilst at the bottom, you have x: 40 and y: 40.<br />
            And at the right corner, you have x: 40 and y: 0, whilst at the left corner, you have x: 0 and y: 40.<br />
            This means you transverse from north to south through y, and from east to west through x.
        </p>
        <h4>Others</h4>
        <p>
          <span class="code-example">log('hello')</span><br />
          <span class="outputs">// → 'hello'</span><br />
          <span class="explanation">Log in the in-game console, similar to what you would do with console.log() in the browser console.</span>
        </p>
        <p>
          <span class="code-example">pause()</span><br />
          <span class="outputs">// → *pauses game*</span><br />
          <span class="explanation">Pause the game. Useful specially when used inside a function or an if statement to freeze the game in a specific situation, where you will be able to run log() over and over until you remove the pause() statement.</span>
        </p>
        <p>
          <span class="code-example">log(me.pos.x, me.pos.y)</span><br />
          <span class="outputs">// → 13</span><br />
          <span class="outputs">// → 11</span><br />
          <span class="explanation">Find your coordinates in the map.</span>
        </p>
        <p>
          <span class="code-example">log(chaser.pos.x, chaser.pos.y)</span><br />
          <span class="outputs">// → 3</span><br />
          <span class="outputs">// → 4</span><br />
          <span class="explanation">Find the chaser's coordinates in the map.</span>
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="js/lib/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="js/lib/lodash-4.17.11.min.js"></script>
<script type="text/javascript" src="lib/bootstrap-tooltips__popper.js"></script>
<script type="text/javascript" src="lib/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="lib/bootstrap-slider/bootstrap-slider.min.js"></script>
<script type="text/javascript" src="lib/typewriter-effect.js"></script>
<script type="text/javascript" src="lib/download.js"></script>
<script type="text/javascript" src="lib/codemirror/codemirror.js"></script>
<script type="text/javascript" src="lib/codemirror/codemirror__fullscreen.js"></script>
<script type="text/javascript" src="lib/codemirror/codemirror__javascript.js"></script>

<script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript" src="js/menu.js"></script>
<script type="text/javascript" src="js/game.js"></script>
<script type="text/javascript" src="js/board.js"></script>
<script type="text/javascript" src="js/player.js"></script>
<script type="text/javascript" src="js/chaser.js"></script>
<script type="text/javascript" src="js/helpers.js"></script>
<script type="text/javascript" src="js/ui.js"></script>
<script type="text/javascript" src="js/logger.js"></script>

<audio controls>
  <source src="assets/audio.mp3" type='audio/mp3'>
  <p>Your user agent does not support the HTML5 Audio element.</p>
</audio>

<script type="text/javascript">
  window.addEventListener('load', game.init, false);
</script>

</body>
</html>